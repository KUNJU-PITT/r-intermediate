---
title: "Patient Data Exploration"
author: "Mark Dunning"
date: "21 April 2016"
output: html_document
---

******

Take the steps used to clean the patients dataset and calculate BMI (see template for the code)

- Re-write in the piping framework


******

```{r}
library(dplyr)
library(stringr)
patients_clean <- read.delim("patient-data.txt") %>% 
  tbl_df %>% 
  mutate(Sex = factor(str_trim(Sex))) %>% 
  mutate(Height= as.numeric(str_replace_all(Height,pattern = "cm",""))) %>% 
  mutate(Weight = as.numeric(str_replace_all(Weight,"kg",""))) %>% 
  mutate(BMI = (Weight/(Height/100)^2), Overweight = BMI > 25) %>% 
  mutate(Smokes = str_replace_all(Smokes, "Yes", TRUE)) %>% 
  mutate(Smokes = as.logical(str_replace_all(Smokes, "No", FALSE)))

patients_clean
```
